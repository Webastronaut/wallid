(function(e,t,a){"use strict";var n={patterns:{email:{classname:"email",regex:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!\.)){0,61}[a-zA-Z0-9_-]?\.)+[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!$)){0,61}[a-zA-Z0-9_]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/g},noDigits:{classname:"no-digits",regex:/^(\D)+$/gi},onlyDigits:{classname:"only-digits",regex:/^([0-9]*)$/gi},notEmpty:{classname:"not-empty",regex:/.+/gi}}},s={methods:{$setDirty:function(){s.setState.call(this,"add","is-dirty","$dirty",!0)},$unsetDirty:function(){s.setState.call(this,"remove","is-dirty","$dirty",!1)},$setValid:function(){s.setState.call(this,"add","is-valid","$valid",!0)},$unsetValid:function(){s.setState.call(this,"remove","is-valid","$valid",!1)},$setInvalid:function(){s.setState.call(this,"add","is-invalid","$invalid",!0)},$unsetInvalid:function(){s.setState.call(this,"remove","is-invalid","$invalid",!1)}},event:{INPUT:"input",SELECT:"change"},states:{$dirty:!1,$valid:!1,$error:[]},formStates:{$submitted:!1,$required:[]}};return s.extendObject=function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var a in arguments[t])arguments[t].hasOwnProperty(a)&&(e[a]=arguments[t][a]);return e},s.setState=function(e,t,n,s){n&&s!==a&&(this[n]=s),this.classList[e](t)},s.validatePattern=function(e,n,r){var i=e.$error.indexOf(n.classname),l=r?new RegExp(n.regex):t.forms[e.$form].elements[n.regex].value;r&&l.test(e.value)===!0||e.value==l?(s.setState.call(e,"add","is-valid-"+n.classname),s.setState.call(e,"remove","is-invalid-"+n.classname),i!==a&&i>-1&&e.$error.splice(i,1)):(s.setState.call(e,"add","is-invalid-"+n.classname),s.setState.call(e,"remove","is-valid-"+n.classname),0>i&&e.$error.push(n.classname)),s.checkErrors(e)},s.checkErrors=function(e){e.$error.length?(e.$setInvalid(),e.$unsetValid()):(e.$setValid(),e.$unsetInvalid())},s.callValidator=function(e){var r=e.target;r.$name;r.readOnly||(r.pattern?n.patterns[r.pattern]!==a?s.validatePattern(r,n.patterns[r.pattern],!0):t.forms[r.$form].elements[r.pattern]?s.validatePattern(r,{classname:t.forms[r.$form].elements[r.pattern].$name,regex:r.pattern}):s.validatePattern(r,{classname:"custom-pattern",regex:r.pattern},!0):n.patterns[r.type]!==a&&s.validatePattern(r,n.patterns[r.type],!0))},s.extendFormElements=function(){for(var e=t.forms,a=0,n=e.length;n>a;a+=1){e[a].$name=e[a].name;for(var r in s.formStates)s.formStates.hasOwnProperty(r)&&(e[a]=s.formStates[r]);for(var i=0,l=e[a].elements.length;l>i;i+=1){e[a][e[a].elements[i].name].$name=e[a].elements[i].name,e[a][e[a].elements[i].name].$required=e[a][e[a].elements[i].name].required,e[a][e[a].elements[i].name].$form=e[a].$name,e[a].elements[i].addEventListener(s.event[e[a].elements[i].nodeName],s.callValidator);for(var m in s.states)s.states.hasOwnProperty(m)&&(e[a][m]||(e[a][m]=s.states[m]),e[a][e[a].elements[i].name][m]=s.states[m]);for(var d in s.methods)s.methods.hasOwnProperty(d)&&(e[a][d]||(e[a][d]=s.methods[d],e[a][d].bind(e[a])),e[a][e[a].elements[i].name][d]=s.methods[d],e[a][e[a].elements[i].name][d].bind(e[a][e[a].elements[i].name]))}}},n.init=function(e){n.patterns=s.extendObject(n.patterns,e),s.extendFormElements()},n})(window,document).init();